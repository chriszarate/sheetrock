{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///dist/sheetrock.min.js","webpack:///webpack/bootstrap 97563d633c3b66f290f6","webpack:///./src/index.js","webpack:///./src/lib/options.js","webpack:///./src/lib/config.js","webpack:///./src/lib/util.js","webpack:///./src/lib/error.js","webpack:///./src/lib/request.js","webpack:///./src/lib/response.js","webpack:///./src/lib/row.js","webpack:///./src/lib/transport-browser.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","sheetrock","handleError","error","name","request","update","failed","userOptions","callback","options","response","arguments","length","undefined","data","_options2","_extends","target","_request2","_response2","loadData","_transport2","Object","defineProperty","value","assign","i","source","key","prototype","hasOwnProperty","_options","_request","_response","_config","_transport","version","defaults","window","jQuery","fn","ignore","_interopRequireWildcard","newObj","_classCallCheck","instance","Constructor","TypeError","translateLegacyOptions","newOptions","keys","forEach","config","legacyOptions","setUserOptions","validatedOptions","_util","extractElement","fetchSize","Math","max","parseInt","_error2","setRequestOptions","sheetType","sheetTypes","keyFormat","test","url","gidFormat","sheetKey","match","gid","apiEndpoint","replace","_error","Options","user","requestIndex","query","labels","rowTemplate","reset","sql","resetStatus","chunkSize","rowHandler","2014","RegExp","2010","getCellValue","cell","f","v","Array","join","_typeof","blob","el","jquery","nodeType","append","html","insertAdjacentHTML","hasClass","className","classes","indexOf","isTable","tagName","wrapTag","str","tag","toHTML","row","num","cells","Symbol","iterator","constructor","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","enumerable","writable","configurable","setPrototypeOf","__proto__","SheetrockError","_Error","message","code","_this","getPrototypeOf","Error","_createClass","defineProperties","props","descriptor","protoProps","staticProps","stateCache","header","offset","store","Request","index","state","attributes","get","cachedLabels","size","pageQuery","queryVars","encodeURIComponent","_row","_row2","util","Response","rows","raw","table","cols","last","rowNumberOffset","columnLabels","map","col","label","userLabels","userLabelsValid","push","counter","template","needsHeader","headerHTML","bodyHTML","rawData","thrown","setAttributes","setOutput","setHTML","Row","number","cellsArray","cellsObj","always","headElement","removeChild","scriptElement","callbackName","success","document","createElement","callbackIndex","addEventListener","type","src","appendChild","getElementsByTagName"],"mappings":"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","file":"./dist/sheetrock.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"sheetrock\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"sheetrock\"] = factory();\n\telse\n\t\troot[\"sheetrock\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"sheetrock\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"sheetrock\"] = factory();\n\telse\n\t\troot[\"sheetrock\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /*!\n\t                                                                                                                                                                                                                                                                   * Sheetrock\n\t                                                                                                                                                                                                                                                                   * Quickly connect to, query, and lazy-load data from Google Sheets.\n\t                                                                                                                                                                                                                                                                   * https://chriszarate.github.io/sheetrock/\n\t                                                                                                                                                                                                                                                                   * License: MIT\n\t                                                                                                                                                                                                                                                                   */\n\t\n\t/* global window */\n\t\n\tvar _options = __webpack_require__(1);\n\t\n\tvar _options2 = _interopRequireDefault(_options);\n\t\n\tvar _request = __webpack_require__(5);\n\t\n\tvar _request2 = _interopRequireDefault(_request);\n\t\n\tvar _response = __webpack_require__(6);\n\t\n\tvar _response2 = _interopRequireDefault(_response);\n\t\n\tvar _config = __webpack_require__(2);\n\t\n\tvar _transport = __webpack_require__(8);\n\t\n\tvar _transport2 = _interopRequireDefault(_transport);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t// Shimmed with 'transport-browser' in browser.\n\t\n\tvar version = '1.1.0';\n\t\n\tfunction sheetrock() {\n\t  var userOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t  var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\t\n\t  var options = null;\n\t  var request = null;\n\t  var response = null;\n\t\n\t  // Call the user's callback function or rethrow error.\n\t  function handleError(error) {\n\t    if (error && error.name === 'SheetrockError') {\n\t      if (request && request.update) {\n\t        request.update({ failed: true });\n\t      }\n\t    }\n\t\n\t    if (userOptions.callback) {\n\t      userOptions.callback(error, options, response);\n\t      return;\n\t    }\n\t\n\t    if (error) {\n\t      throw error;\n\t    }\n\t  }\n\t\n\t  try {\n\t    options = new _options2.default(_extends({ target: this }, userOptions), !!data);\n\t    request = new _request2.default(options);\n\t    response = new _response2.default(request);\n\t  } catch (error) {\n\t    handleError(error);\n\t  }\n\t\n\t  if (data) {\n\t    response.loadData(data, handleError);\n\t  } else if (options && request && response) {\n\t    (0, _transport2.default)(response, handleError);\n\t  }\n\t\n\t  return this;\n\t}\n\t\n\t_extends(sheetrock, { defaults: _config.defaults, version: version });\n\t\n\t// If jQuery is available as a global, register as a plugin.\n\ttry {\n\t  window.jQuery.fn.sheetrock = sheetrock;\n\t} catch (ignore) {/* empty */}\n\t\n\texports.default = sheetrock;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _config = __webpack_require__(2);\n\t\n\tvar config = _interopRequireWildcard(_config);\n\t\n\tvar _util = __webpack_require__(3);\n\t\n\tvar _error = __webpack_require__(4);\n\t\n\tvar _error2 = _interopRequireDefault(_error);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t// Support some legacy option names.\n\tfunction translateLegacyOptions(options) {\n\t  var newOptions = {};\n\t\n\t  Object.keys(options).forEach(function (key) {\n\t    if ({}.hasOwnProperty.call(config.legacyOptions, key)) {\n\t      newOptions[config.legacyOptions[key]] = options[key];\n\t    } else {\n\t      newOptions[key] = options[key];\n\t    }\n\t  });\n\t\n\t  return newOptions;\n\t}\n\t\n\tfunction setUserOptions(options) {\n\t  var validatedOptions = {};\n\t\n\t  // Look for valid DOM element target.\n\t  validatedOptions.target = (0, _util.extractElement)(options.target);\n\t\n\t  // Correct bad integer values.\n\t  validatedOptions.fetchSize = Math.max(0, parseInt(options.fetchSize, 10) || 0);\n\t\n\t  // Require DOM element or a callback function. Otherwise, the data has nowhere to go.\n\t  if (!validatedOptions.target && !options.callback) {\n\t    throw new _error2.default('No element targeted or callback provided.');\n\t  }\n\t\n\t  // Extend default options.\n\t  return _extends({}, config.defaults, options, validatedOptions);\n\t}\n\t\n\tfunction setRequestOptions(options, data) {\n\t  // If the user passed data, we don't want to validate the URL.\n\t  if (data) {\n\t    return { data: data };\n\t  }\n\t\n\t  // Get API endpoint, key, and gid from a Google Sheet URL.\n\t  var sheetType = null;\n\t  Object.keys(config.sheetTypes).forEach(function (key) {\n\t    var value = config.sheetTypes[key];\n\t    if (value.keyFormat.test(options.url) && value.gidFormat.test(options.url)) {\n\t      sheetType = value;\n\t    }\n\t  });\n\t\n\t  if (sheetType) {\n\t    var sheetKey = options.url.match(sheetType.keyFormat)[1];\n\t    return {\n\t      key: sheetKey,\n\t      gid: options.url.match(sheetType.gidFormat)[1],\n\t      apiEndpoint: sheetType.apiEndpoint.replace('%key%', sheetKey)\n\t    };\n\t  }\n\t\n\t  // Require a Sheet key and gid.\n\t  throw new _error2.default('No key/gid in the provided URL.');\n\t}\n\t\n\tvar Options = function Options() {\n\t  var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t  var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\t\n\t  _classCallCheck(this, Options);\n\t\n\t  this.user = setUserOptions(translateLegacyOptions(options));\n\t  this.request = setRequestOptions(this.user, data);\n\t\n\t  // Generate a request ID that can be used as a caching key.\n\t  this.requestIndex = this.request.key + '_' + this.request.gid + '_' + this.user.query;\n\t};\n\t\n\texports.default = Options;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t// Defaults for Sheetrock user options.\n\tvar defaults = {\n\t  url: '', // String  -- Google Sheet URL\n\t  query: '', // String  -- Google Visualization API query\n\t  target: null, // DOM Element -- An element to append output to\n\t  fetchSize: 0, // Integer -- Number of rows to fetch (0 = all)\n\t  labels: [], // Array   -- Override *returned* column labels\n\t  rowTemplate: null, // Function / Template\n\t  callback: null, // Function\n\t  reset: false };\n\t\n\t// Map of legacy (pre-v1.0.0) option names to current user option names.\n\tvar legacyOptions = {\n\t  sql: 'query',\n\t  resetStatus: 'reset',\n\t  chunkSize: 'fetchSize',\n\t  rowHandler: 'rowTemplate'\n\t};\n\t\n\t// Google Visualization API endpoints and parameter formats.\n\tvar sheetTypes = {\n\t  2014: {\n\t    apiEndpoint: 'https://docs.google.com/spreadsheets/d/%key%/gviz/tq?',\n\t    keyFormat: new RegExp('spreadsheets/d/([^/#]+)', 'i'),\n\t    gidFormat: new RegExp('gid=([^/&#]+)', 'i')\n\t  },\n\t  2010: {\n\t    apiEndpoint: 'https://spreadsheets.google.com/tq?key=%key%&',\n\t    keyFormat: new RegExp('key=([^&#]+)', 'i'),\n\t    gidFormat: new RegExp('gid=([^/&#]+)', 'i')\n\t  }\n\t};\n\t\n\texports.defaults = defaults;\n\texports.legacyOptions = legacyOptions;\n\texports.sheetTypes = sheetTypes;\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\t\n\t// Extract the string contained in a cell object.\n\tfunction getCellValue(cell) {\n\t  var value = cell ? cell.f || cell.v || cell : '';\n\t\n\t  // Extract cell value while avoiding array values.\n\t  if (value instanceof Array) {\n\t    value = value.join('');\n\t  }\n\t\n\t  if ((typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object') {\n\t    return '';\n\t  }\n\t\n\t  return ('' + value).replace(/^\\s+|\\s+$/, '');\n\t}\n\t\n\t// Extract a DOM element from a possible jQuery blob.\n\tfunction extractElement(blob) {\n\t  var el = blob;\n\t\n\t  if ((typeof el === 'undefined' ? 'undefined' : _typeof(el)) === 'object' && el.jquery && el.length) {\n\t    el = el[0];\n\t  }\n\t\n\t  return el && el.nodeType && el.nodeType === 1 ? el : null;\n\t}\n\t\n\t// Append HTML output to DOM.\n\tfunction append(target, html) {\n\t  if (target && target.insertAdjacentHTML) {\n\t    target.insertAdjacentHTML('beforeEnd', html);\n\t  }\n\t}\n\t\n\t// Return true if the DOM element has the specified class.\n\tfunction hasClass(el, className) {\n\t  var classes = ' ' + el.className + ' ';\n\t  return classes.indexOf(' ' + className + ' ') !== -1;\n\t}\n\t\n\t// Return true if the DOM element is a table.\n\tfunction isTable(el) {\n\t  return el && el.tagName === 'TABLE';\n\t}\n\t\n\t// Wrap a string in tag.\n\tfunction wrapTag(str, tag) {\n\t  return '<' + tag + '>' + str + '</' + tag + '>';\n\t}\n\t\n\t// Default row template: Output a row object as an HTML table row. Use \"td\"\n\t// for table body row, \"th\" for table header rows.\n\tfunction toHTML(row) {\n\t  var tag = row.num ? 'td' : 'th';\n\t  var html = '';\n\t  Object.keys(row.cells).forEach(function (key) {\n\t    html += wrapTag(row.cells[key], tag);\n\t  });\n\t  return wrapTag(html, 'tr');\n\t}\n\t\n\texports.append = append;\n\texports.extractElement = extractElement;\n\texports.getCellValue = getCellValue;\n\texports.hasClass = hasClass;\n\texports.isTable = isTable;\n\texports.toHTML = toHTML;\n\texports.wrapTag = wrapTag;\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar SheetrockError = function (_Error) {\n\t  _inherits(SheetrockError, _Error);\n\t\n\t  function SheetrockError() {\n\t    var message = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\t    var code = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\t\n\t    _classCallCheck(this, SheetrockError);\n\t\n\t    var _this = _possibleConstructorReturn(this, (SheetrockError.__proto__ || Object.getPrototypeOf(SheetrockError)).call(this));\n\t\n\t    _this.name = 'SheetrockError';\n\t    _this.code = code;\n\t    _this.message = message;\n\t    return _this;\n\t  }\n\t\n\t  return SheetrockError;\n\t}(Error);\n\t\n\texports.default = SheetrockError;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _error = __webpack_require__(4);\n\t\n\tvar _error2 = _interopRequireDefault(_error);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t// Provide a simple state store shared across requests.\n\tvar stateCache = {\n\t  defaults: {\n\t    failed: false,\n\t    header: 0,\n\t    labels: null,\n\t    loaded: false,\n\t    offset: 0\n\t  },\n\t  store: {}\n\t};\n\t\n\tvar Request = function () {\n\t  function Request(options) {\n\t    _classCallCheck(this, Request);\n\t\n\t    this.options = options;\n\t    this.index = options.requestIndex;\n\t\n\t    // Abandon requests that have previously generated an error.\n\t    if (this.state.failed) {\n\t      throw new _error2.default('A previous request for this resource failed.');\n\t    }\n\t\n\t    // Abandon requests that have already been loaded.\n\t    if (this.state.loaded) {\n\t      throw new _error2.default('No more rows to load!');\n\t    }\n\t  }\n\t\n\t  _createClass(Request, [{\n\t    key: 'update',\n\t\n\t\n\t    // Extend exsiting attributes with passed attributes.\n\t    value: function update() {\n\t      var attributes = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\t\n\t      stateCache.store[this.index] = _extends(this.state, attributes);\n\t    }\n\t  }, {\n\t    key: 'state',\n\t    get: function get() {\n\t      var reset = this.options.user.reset || this.options.request.data;\n\t      // When no state is saved for this.index apply the defaults and add them to store\n\t      if (!{}.hasOwnProperty.call(stateCache.store, this.index)) {\n\t        stateCache.store[this.index] = _extends({}, stateCache.defaults);\n\t      } else if (reset) {\n\t        // Reset the stateCache for this.index but keep the labels\n\t        var cachedLabels = stateCache.store[this.index].labels;\n\t        stateCache.store[this.index] = _extends({}, stateCache.defaults);\n\t        stateCache.store[this.index].labels = cachedLabels;\n\t      }\n\t      return stateCache.store[this.index];\n\t    }\n\t\n\t    // Assemble a full URI for the query.\n\t\n\t  }, {\n\t    key: 'url',\n\t    get: function get() {\n\t      // If requested, make a request for paged data.\n\t      var size = this.options.user.fetchSize;\n\t      var pageQuery = size ? ' limit ' + (size + 1) + ' offset ' + this.state.offset : '';\n\t\n\t      var queryVars = ['gid=' + encodeURIComponent(this.options.request.gid), 'tq=' + encodeURIComponent(this.options.user.query + pageQuery)];\n\t      return this.options.request.apiEndpoint + queryVars.join('&');\n\t    }\n\t  }]);\n\t\n\t  return Request;\n\t}();\n\t\n\texports.default = Request;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 6 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _row = __webpack_require__(7);\n\t\n\tvar _row2 = _interopRequireDefault(_row);\n\t\n\tvar _error = __webpack_require__(4);\n\t\n\tvar _error2 = _interopRequireDefault(_error);\n\t\n\tvar _util = __webpack_require__(3);\n\t\n\tvar util = _interopRequireWildcard(_util);\n\t\n\tfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t// Get useful information about the response.\n\tvar Response = function () {\n\t  function Response(request) {\n\t    _classCallCheck(this, Response);\n\t\n\t    this.request = request;\n\t    this.options = request.options;\n\t  }\n\t\n\t  _createClass(Response, [{\n\t    key: 'setAttributes',\n\t    value: function setAttributes() {\n\t      var fetchSize = this.options.user.fetchSize;\n\t      var rows = this.raw.table.rows;\n\t      var cols = this.raw.table.cols;\n\t\n\t      // Initialize a hash for the response attributes.\n\t      var attributes = {\n\t        last: rows.length - 1,\n\t        rowNumberOffset: this.request.state.header || 0\n\t      };\n\t\n\t      // Determine if Google has extracted column labels from a header row.\n\t      var columnLabels = this.request.state.labels;\n\t      if (!this.request.state.offset) {\n\t        // Use extracted column labels, the first row, or column letter.\n\t        columnLabels = cols.map(function (col, i) {\n\t          if (col.label) {\n\t            return col.label.replace(/\\s/g, '');\n\t          }\n\t\n\t          // Get column labels from the first row of the response.\n\t          attributes.last += 1;\n\t          attributes.rowNumberOffset = 1;\n\t          return util.getCellValue(rows[0].c[i]) || col.id;\n\t        });\n\t\n\t        this.request.update({\n\t          header: attributes.rowNumberOffset,\n\t          labels: columnLabels,\n\t          offset: this.request.state.offset + attributes.rowNumberOffset\n\t        });\n\t      }\n\t\n\t      // The Google API generates an unrecoverable error when the 'offset' is\n\t      // larger than the number of available rows, which is problematic for\n\t      // paged requests. As a workaround, we request one more row than we need\n\t      // and stop when we see less rows than we requested.\n\t\n\t      // Remember whether this request has been fully loaded.\n\t      if (!fetchSize || rows.length - attributes.rowNumberOffset < fetchSize) {\n\t        attributes.last += 1;\n\t        this.request.update({ loaded: true });\n\t      }\n\t\n\t      // If column labels are provided and have the expected length, use them.\n\t      var userLabels = this.options.user.labels;\n\t      var userLabelsValid = userLabels && userLabels.length === columnLabels.length;\n\t      attributes.labels = userLabelsValid ? userLabels : columnLabels;\n\t\n\t      // Return the response attributes.\n\t      this.attributes = attributes;\n\t    }\n\t\n\t    // Parse data, row by row, and generate a simpler output array.\n\t\n\t  }, {\n\t    key: 'setOutput',\n\t    value: function setOutput() {\n\t      var _this = this;\n\t\n\t      this.rows = [];\n\t\n\t      // Add a header row constructed from the column labels, if appropriate.\n\t      if (!this.request.state.offset && !this.attributes.rowNumberOffset) {\n\t        this.rows.push(new _row2.default(0, this.attributes.labels, this.attributes.labels));\n\t      }\n\t\n\t      // Each table cell ('c') can contain two properties: 'p' contains\n\t      // formatting and 'v' contains the actual cell value.\n\t\n\t      // Loop through each table row.\n\t      this.raw.table.rows.forEach(function (row, i) {\n\t        // Proceed if the row has cells and the row index is within the targeted\n\t        // range. (This avoids displaying too many rows when paging data.)\n\t        if (row.c && i < _this.attributes.last) {\n\t          // Get the \"real\" row index (not counting header rows). Create a row\n\t          // object and add it to the output array.\n\t          var counter = _this.request.state.offset + i + 1 - _this.attributes.rowNumberOffset;\n\t          _this.rows.push(new _row2.default(counter, row.c, _this.attributes.labels));\n\t        }\n\t      });\n\t\n\t      // Remember the new row offset.\n\t      this.request.update({\n\t        offset: this.request.state.offset + this.options.user.fetchSize\n\t      });\n\t    }\n\t\n\t    // Generate HTML from rows using a template.\n\t\n\t  }, {\n\t    key: 'setHTML',\n\t    value: function setHTML() {\n\t      var target = this.options.user.target;\n\t      var template = this.options.user.rowTemplate || util.toHTML;\n\t      var isTable = util.isTable(target);\n\t      var needsHeader = target && util.hasClass(target, 'sheetrock-header');\n\t\n\t      // Pass each row to the row template. Only parse header rows if the target\n\t      // is a table or indicates via className that it wants the header.\n\t      var headerHTML = '';\n\t      var bodyHTML = '';\n\t      this.rows.forEach(function (row) {\n\t        if (row.num) {\n\t          bodyHTML += template(row);\n\t        } else if (isTable || needsHeader) {\n\t          headerHTML += template(row);\n\t        }\n\t      });\n\t\n\t      if (isTable) {\n\t        headerHTML = util.wrapTag(headerHTML, 'thead');\n\t        bodyHTML = util.wrapTag(bodyHTML, 'tbody');\n\t      }\n\t\n\t      util.append(target, headerHTML + bodyHTML);\n\t\n\t      this.html = headerHTML + bodyHTML;\n\t    }\n\t\n\t    // Load API response.\n\t\n\t  }, {\n\t    key: 'loadData',\n\t    value: function loadData(rawData, callback) {\n\t      var thrown = null;\n\t\n\t      try {\n\t        this.raw = rawData;\n\t        this.setAttributes();\n\t        this.setOutput();\n\t        this.setHTML();\n\t      } catch (error) {\n\t        thrown = new _error2.default('Unexpected API response format.');\n\t      }\n\t\n\t      callback(thrown);\n\t    }\n\t  }]);\n\t\n\t  return Response;\n\t}();\n\t\n\texports.default = Response;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 7 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\t\n\tvar _util = __webpack_require__(3);\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tvar Row = function () {\n\t  function Row(number, cellsArray, labels) {\n\t    _classCallCheck(this, Row);\n\t\n\t    this.num = number;\n\t    this.cellsArray = cellsArray.map(_util.getCellValue);\n\t    this.labels = labels;\n\t  }\n\t\n\t  // Get an object with labels as keys.\n\t\n\t\n\t  _createClass(Row, [{\n\t    key: 'cells',\n\t    get: function get() {\n\t      var _this = this;\n\t\n\t      var cellsObj = {};\n\t      this.labels.forEach(function (label, index) {\n\t        cellsObj[label] = _this.cellsArray[index];\n\t      });\n\t      return cellsObj;\n\t    }\n\t  }]);\n\t\n\t  return Row;\n\t}();\n\t\n\texports.default = Row;\n\tmodule.exports = exports['default'];\n\n/***/ },\n/* 8 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _error = __webpack_require__(4);\n\t\n\tvar _error2 = _interopRequireDefault(_error);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/* global window */\n\t\n\tvar headElement = window.document.getElementsByTagName('head')[0];\n\tvar callbackIndex = 0;\n\t\n\tfunction get(response, callback) {\n\t  var scriptElement = window.document.createElement('script');\n\t  var callbackName = '_sheetrock_callback_' + callbackIndex;\n\t  callbackIndex += 1;\n\t\n\t  function always() {\n\t    headElement.removeChild(scriptElement);\n\t    delete window[callbackName];\n\t  }\n\t\n\t  function success(data) {\n\t    always();\n\t    response.loadData(data, callback);\n\t  }\n\t\n\t  function error() {\n\t    always();\n\t    callback(new _error2.default('Request failed.'));\n\t  }\n\t\n\t  window[callbackName] = success;\n\t\n\t  if (scriptElement.addEventListener) {\n\t    scriptElement.addEventListener('error', error, false);\n\t    scriptElement.addEventListener('abort', error, false);\n\t  }\n\t\n\t  scriptElement.type = 'text/javascript';\n\t  scriptElement.src = response.request.url + '&tqx=responseHandler:' + callbackName;\n\t  headElement.appendChild(scriptElement);\n\t}\n\t\n\texports.default = get;\n\tmodule.exports = exports['default'];\n\n/***/ }\n/******/ ])\n});\n;\n\n\n// WEBPACK FOOTER //\n// dist/sheetrock.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 97563d633c3b66f290f6","/*!\n * Sheetrock\n * Quickly connect to, query, and lazy-load data from Google Sheets.\n * https://chriszarate.github.io/sheetrock/\n * License: MIT\n */\n\n/* global window */\n\nimport Options from './lib/options';\nimport Request from './lib/request';\nimport Response from './lib/response';\n\nimport { defaults } from './lib/config';\nimport transport from './lib/transport'; // Shimmed with 'transport-browser' in browser.\n\nconst version = '1.1.0';\n\nfunction sheetrock(userOptions = {}, data = null) {\n  let options = null;\n  let request = null;\n  let response = null;\n\n  // Call the user's callback function or rethrow error.\n  function handleError(error) {\n    if (error && error.name === 'SheetrockError') {\n      if (request && request.update) {\n        request.update({ failed: true });\n      }\n    }\n\n    if (userOptions.callback) {\n      userOptions.callback(error, options, response);\n      return;\n    }\n\n    if (error) {\n      throw error;\n    }\n  }\n\n  try {\n    options = new Options(Object.assign({ target: this }, userOptions), !!data);\n    request = new Request(options);\n    response = new Response(request);\n  } catch (error) {\n    handleError(error);\n  }\n\n  if (data) {\n    response.loadData(data, handleError);\n  } else if (options && request && response) {\n    transport(response, handleError);\n  }\n\n  return this;\n}\n\nObject.assign(sheetrock, { defaults, version });\n\n// If jQuery is available as a global, register as a plugin.\ntry {\n  window.jQuery.fn.sheetrock = sheetrock;\n} catch (ignore) { /* empty */ }\n\nexport default sheetrock;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import * as config from './config';\nimport { extractElement } from './util';\n\nimport SheetrockError from './error';\n\n// Support some legacy option names.\nfunction translateLegacyOptions(options) {\n  const newOptions = {};\n\n  Object.keys(options).forEach((key) => {\n    if ({}.hasOwnProperty.call(config.legacyOptions, key)) {\n      newOptions[config.legacyOptions[key]] = options[key];\n    } else {\n      newOptions[key] = options[key];\n    }\n  });\n\n  return newOptions;\n}\n\nfunction setUserOptions(options) {\n  const validatedOptions = {};\n\n  // Look for valid DOM element target.\n  validatedOptions.target = extractElement(options.target);\n\n  // Correct bad integer values.\n  validatedOptions.fetchSize = Math.max(0, parseInt(options.fetchSize, 10) || 0);\n\n  // Require DOM element or a callback function. Otherwise, the data has nowhere to go.\n  if (!validatedOptions.target && !options.callback) {\n    throw new SheetrockError('No element targeted or callback provided.');\n  }\n\n  // Extend default options.\n  return Object.assign({}, config.defaults, options, validatedOptions);\n}\n\nfunction setRequestOptions(options, data) {\n  // If the user passed data, we don't want to validate the URL.\n  if (data) {\n    return { data };\n  }\n\n  // Get API endpoint, key, and gid from a Google Sheet URL.\n  let sheetType = null;\n  Object.keys(config.sheetTypes).forEach((key) => {\n    const value = config.sheetTypes[key];\n    if (value.keyFormat.test(options.url) && value.gidFormat.test(options.url)) {\n      sheetType = value;\n    }\n  });\n\n  if (sheetType) {\n    const sheetKey = options.url.match(sheetType.keyFormat)[1];\n    return {\n      key: sheetKey,\n      gid: options.url.match(sheetType.gidFormat)[1],\n      apiEndpoint: sheetType.apiEndpoint.replace('%key%', sheetKey),\n    };\n  }\n\n  // Require a Sheet key and gid.\n  throw new SheetrockError('No key/gid in the provided URL.');\n}\n\nclass Options {\n  constructor(options = {}, data = false) {\n    this.user = setUserOptions(translateLegacyOptions(options));\n    this.request = setRequestOptions(this.user, data);\n\n    // Generate a request ID that can be used as a caching key.\n    this.requestIndex = `${this.request.key}_${this.request.gid}_${this.user.query}`;\n  }\n}\n\nexport default Options;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/options.js","// Defaults for Sheetrock user options.\nconst defaults = {\n  url: '',           // String  -- Google Sheet URL\n  query: '',         // String  -- Google Visualization API query\n  target: null,      // DOM Element -- An element to append output to\n  fetchSize: 0,      // Integer -- Number of rows to fetch (0 = all)\n  labels: [],        // Array   -- Override *returned* column labels\n  rowTemplate: null, // Function / Template\n  callback: null,    // Function\n  reset: false,      // Boolean -- Reset request status\n};\n\n// Map of legacy (pre-v1.0.0) option names to current user option names.\nconst legacyOptions = {\n  sql: 'query',\n  resetStatus: 'reset',\n  chunkSize: 'fetchSize',\n  rowHandler: 'rowTemplate',\n};\n\n// Google Visualization API endpoints and parameter formats.\nconst sheetTypes = {\n  2014: {\n    apiEndpoint: 'https://docs.google.com/spreadsheets/d/%key%/gviz/tq?',\n    keyFormat: new RegExp('spreadsheets/d/([^/#]+)', 'i'),\n    gidFormat: new RegExp('gid=([^/&#]+)', 'i'),\n  },\n  2010: {\n    apiEndpoint: 'https://spreadsheets.google.com/tq?key=%key%&',\n    keyFormat: new RegExp('key=([^&#]+)', 'i'),\n    gidFormat: new RegExp('gid=([^/&#]+)', 'i'),\n  },\n};\n\nexport {\n  defaults,\n  legacyOptions,\n  sheetTypes,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/config.js","// Extract the string contained in a cell object.\nfunction getCellValue(cell) {\n  let value = cell ? cell.f || cell.v || cell : '';\n\n  // Extract cell value while avoiding array values.\n  if (value instanceof Array) {\n    value = value.join('');\n  }\n\n  if (typeof value === 'object') {\n    return '';\n  }\n\n  return `${value}`.replace(/^\\s+|\\s+$/, '');\n}\n\n// Extract a DOM element from a possible jQuery blob.\nfunction extractElement(blob) {\n  let el = blob;\n\n  if (typeof el === 'object' && el.jquery && el.length) {\n    el = el[0];\n  }\n\n  return (el && el.nodeType && el.nodeType === 1) ? el : null;\n}\n\n// Append HTML output to DOM.\nfunction append(target, html) {\n  if (target && target.insertAdjacentHTML) {\n    target.insertAdjacentHTML('beforeEnd', html);\n  }\n}\n\n// Return true if the DOM element has the specified class.\nfunction hasClass(el, className) {\n  const classes = ` ${el.className} `;\n  return classes.indexOf(` ${className} `) !== -1;\n}\n\n// Return true if the DOM element is a table.\nfunction isTable(el) {\n  return el && el.tagName === 'TABLE';\n}\n\n// Wrap a string in tag.\nfunction wrapTag(str, tag) {\n  return `<${tag}>${str}</${tag}>`;\n}\n\n// Default row template: Output a row object as an HTML table row. Use \"td\"\n// for table body row, \"th\" for table header rows.\nfunction toHTML(row) {\n  const tag = row.num ? 'td' : 'th';\n  let html = '';\n  Object.keys(row.cells).forEach((key) => {\n    html += wrapTag(row.cells[key], tag);\n  });\n  return wrapTag(html, 'tr');\n}\n\nexport {\n  append,\n  extractElement,\n  getCellValue,\n  hasClass,\n  isTable,\n  toHTML,\n  wrapTag,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/util.js","class SheetrockError extends Error {\n  constructor(message = '', code = null) {\n    super();\n    this.name = 'SheetrockError';\n    this.code = code;\n    this.message = message;\n  }\n}\n\nexport default SheetrockError;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/error.js","import SheetrockError from './error';\n\n// Provide a simple state store shared across requests.\nconst stateCache = {\n  defaults: {\n    failed: false,\n    header: 0,\n    labels: null,\n    loaded: false,\n    offset: 0,\n  },\n  store: {},\n};\n\nclass Request {\n  constructor(options) {\n    this.options = options;\n    this.index = options.requestIndex;\n\n    // Abandon requests that have previously generated an error.\n    if (this.state.failed) {\n      throw new SheetrockError('A previous request for this resource failed.');\n    }\n\n    // Abandon requests that have already been loaded.\n    if (this.state.loaded) {\n      throw new SheetrockError('No more rows to load!');\n    }\n  }\n\n  get state() {\n    const reset = this.options.user.reset || this.options.request.data;\n    // When no state is saved for this.index apply the defaults and add them to store\n    if (!{}.hasOwnProperty.call(stateCache.store, this.index)) {\n      stateCache.store[this.index] = Object.assign({}, stateCache.defaults);\n    } else if (reset) {\n      // Reset the stateCache for this.index but keep the labels\n      const cachedLabels = stateCache.store[this.index].labels;\n      stateCache.store[this.index] = Object.assign({}, stateCache.defaults);\n      stateCache.store[this.index].labels = cachedLabels;\n    }\n    return stateCache.store[this.index];\n  }\n\n  // Assemble a full URI for the query.\n  get url() {\n    // If requested, make a request for paged data.\n    const size = this.options.user.fetchSize;\n    const pageQuery = (size) ? ` limit ${size + 1} offset ${this.state.offset}` : '';\n\n    const queryVars = [\n      `gid=${encodeURIComponent(this.options.request.gid)}`,\n      `tq=${encodeURIComponent(this.options.user.query + pageQuery)}`,\n    ];\n    return this.options.request.apiEndpoint + queryVars.join('&');\n  }\n\n  // Extend exsiting attributes with passed attributes.\n  update(attributes = {}) {\n    stateCache.store[this.index] = Object.assign(this.state, attributes);\n  }\n}\n\nexport default Request;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/request.js","import Row from './row';\nimport SheetrockError from './error';\n\nimport * as util from './util';\n\n// Get useful information about the response.\nclass Response {\n  constructor(request) {\n    this.request = request;\n    this.options = request.options;\n  }\n\n  setAttributes() {\n    const fetchSize = this.options.user.fetchSize;\n    const rows = this.raw.table.rows;\n    const cols = this.raw.table.cols;\n\n    // Initialize a hash for the response attributes.\n    const attributes = {\n      last: rows.length - 1,\n      rowNumberOffset: this.request.state.header || 0,\n    };\n\n    // Determine if Google has extracted column labels from a header row.\n    let columnLabels = this.request.state.labels;\n    if (!this.request.state.offset) {\n      // Use extracted column labels, the first row, or column letter.\n      columnLabels = cols.map((col, i) => {\n        if (col.label) {\n          return col.label.replace(/\\s/g, '');\n        }\n\n        // Get column labels from the first row of the response.\n        attributes.last += 1;\n        attributes.rowNumberOffset = 1;\n        return util.getCellValue(rows[0].c[i]) || col.id;\n      });\n\n      this.request.update({\n        header: attributes.rowNumberOffset,\n        labels: columnLabels,\n        offset: this.request.state.offset + attributes.rowNumberOffset,\n      });\n    }\n\n    // The Google API generates an unrecoverable error when the 'offset' is\n    // larger than the number of available rows, which is problematic for\n    // paged requests. As a workaround, we request one more row than we need\n    // and stop when we see less rows than we requested.\n\n    // Remember whether this request has been fully loaded.\n    if (!fetchSize || (rows.length - attributes.rowNumberOffset) < fetchSize) {\n      attributes.last += 1;\n      this.request.update({ loaded: true });\n    }\n\n    // If column labels are provided and have the expected length, use them.\n    const userLabels = this.options.user.labels;\n    const userLabelsValid = userLabels && userLabels.length === columnLabels.length;\n    attributes.labels = userLabelsValid ? userLabels : columnLabels;\n\n    // Return the response attributes.\n    this.attributes = attributes;\n  }\n\n  // Parse data, row by row, and generate a simpler output array.\n  setOutput() {\n    this.rows = [];\n\n    // Add a header row constructed from the column labels, if appropriate.\n    if (!this.request.state.offset && !this.attributes.rowNumberOffset) {\n      this.rows.push(new Row(0, this.attributes.labels, this.attributes.labels));\n    }\n\n    // Each table cell ('c') can contain two properties: 'p' contains\n    // formatting and 'v' contains the actual cell value.\n\n    // Loop through each table row.\n    this.raw.table.rows.forEach((row, i) => {\n      // Proceed if the row has cells and the row index is within the targeted\n      // range. (This avoids displaying too many rows when paging data.)\n      if (row.c && i < this.attributes.last) {\n        // Get the \"real\" row index (not counting header rows). Create a row\n        // object and add it to the output array.\n        const counter = (this.request.state.offset + i + 1) - this.attributes.rowNumberOffset;\n        this.rows.push(new Row(counter, row.c, this.attributes.labels));\n      }\n    });\n\n    // Remember the new row offset.\n    this.request.update({\n      offset: this.request.state.offset + this.options.user.fetchSize,\n    });\n  }\n\n  // Generate HTML from rows using a template.\n  setHTML() {\n    const target = this.options.user.target;\n    const template = this.options.user.rowTemplate || util.toHTML;\n    const isTable = util.isTable(target);\n    const needsHeader = target && util.hasClass(target, 'sheetrock-header');\n\n    // Pass each row to the row template. Only parse header rows if the target\n    // is a table or indicates via className that it wants the header.\n    let headerHTML = '';\n    let bodyHTML = '';\n    this.rows.forEach((row) => {\n      if (row.num) {\n        bodyHTML += template(row);\n      } else if (isTable || needsHeader) {\n        headerHTML += template(row);\n      }\n    });\n\n    if (isTable) {\n      headerHTML = util.wrapTag(headerHTML, 'thead');\n      bodyHTML = util.wrapTag(bodyHTML, 'tbody');\n    }\n\n    util.append(target, headerHTML + bodyHTML);\n\n    this.html = headerHTML + bodyHTML;\n  }\n\n  // Load API response.\n  loadData(rawData, callback) {\n    let thrown = null;\n\n    try {\n      this.raw = rawData;\n      this.setAttributes();\n      this.setOutput();\n      this.setHTML();\n    } catch (error) {\n      thrown = new SheetrockError('Unexpected API response format.');\n    }\n\n    callback(thrown);\n  }\n}\n\nexport default Response;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/response.js","import { getCellValue } from './util';\n\nclass Row {\n  constructor(number, cellsArray, labels) {\n    this.num = number;\n    this.cellsArray = cellsArray.map(getCellValue);\n    this.labels = labels;\n  }\n\n  // Get an object with labels as keys.\n  get cells() {\n    const cellsObj = {};\n    this.labels.forEach((label, index) => {\n      cellsObj[label] = this.cellsArray[index];\n    });\n    return cellsObj;\n  }\n}\n\nexport default Row;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/row.js","import SheetrockError from './error';\n\n/* global window */\n\nconst headElement = window.document.getElementsByTagName('head')[0];\nlet callbackIndex = 0;\n\nfunction get(response, callback) {\n  const scriptElement = window.document.createElement('script');\n  const callbackName = `_sheetrock_callback_${callbackIndex}`;\n  callbackIndex += 1;\n\n  function always() {\n    headElement.removeChild(scriptElement);\n    delete window[callbackName];\n  }\n\n  function success(data) {\n    always();\n    response.loadData(data, callback);\n  }\n\n  function error() {\n    always();\n    callback(new SheetrockError('Request failed.'));\n  }\n\n  window[callbackName] = success;\n\n  if (scriptElement.addEventListener) {\n    scriptElement.addEventListener('error', error, false);\n    scriptElement.addEventListener('abort', error, false);\n  }\n\n  scriptElement.type = 'text/javascript';\n  scriptElement.src = `${response.request.url}&tqx=responseHandler:${callbackName}`;\n  headElement.appendChild(scriptElement);\n}\n\nexport default get;\n\n\n\n// WEBPACK FOOTER //\n// ./src/lib/transport-browser.js"],"sourceRoot":""}